/* =========================
   Base
   ========================= */
html, body { margin:0; height:100%; }
#map {
  width:100%;
  height:100%;
  font-family: system-ui, Segoe UI, Roboto, Arial, sans-serif;
}

/* =========================
   Titre en haut (au-dessus du zoom)
   ========================= */
.page-title{
  position:absolute; z-index:1100; top:8px; left:50%; transform:translateX(-50%);
  background:#fff; padding:8px 12px; border-radius:8px;
  box-shadow:0 2px 8px rgba(0,0,0,.15);
  font-weight:600; font-size:15px; color:#111827;
  pointer-events:none; /* pour ne pas gêner les clics sur la carte */
}

/* =========================
   Icônes gîtes : pastille colorée AVEC numéro
   ========================= */
.mk-lieu .pin {
  display:flex; align-items:center; justify-content:center;
  width:24px; height:24px; border-radius:50%;
  color:#fff; font-weight:700; font-size:12px; line-height:1;
  border:2px solid #fff; box-shadow:0 0 0 2px rgba(0,0,0,.15);
}

/* =========================
   Icônes provenances (P1, P2…)
   ========================= */
.icon-badge {
  display:flex; align-items:center; justify-content:center;
  width:26px; height:26px; border-radius:50%;
  color:#fff; font-weight:700; font-size:12px; line-height:1;
  border:2px solid #fff; box-shadow:0 0 0 2px rgba(0,0,0,.15);
}
.prov-oui { background:#059669; }               /* vert */
.prov-non { background:#94a3b8; color:#1f2937; } /* gris + texte foncé */
.prov-incertain { background:#f59e0b; }         /* ambre */

/* =========================
   Panneau fusionné (légende + filtres) en bas à gauche
   ========================= */
.toolbar {
  position:absolute; z-index:1000; left:10px; bottom:10px;
  background:#fff; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,.15);
  font-family: system-ui, Segoe UI, Roboto, Arial, sans-serif;
  font-size:13px; color:#111827;
  width:min(92vw, 320px);
}

/* En-tête du panneau (titre + bouton) */
.tb-header {
  display:flex; align-items:center; gap:8px;
  border-bottom:1px solid rgba(0,0,0,.08);
  padding:8px 10px; font-weight:600;
}
.tb-title { font-size:13px; }
.tb-toggle {
  width:26px; height:26px; border-radius:6px; border:1px solid rgba(0,0,0,.1);
  background:#fff; cursor:pointer; font-weight:700;
}

/* Corps du panneau / état replié */
.tb-body { padding:8px 10px 10px 10px; }
.toolbar.collapsed .tb-body { display:none; }
.toolbar:not(.collapsed) .tb-toggle { background:#f3f4f6; }

/* Sections en colonne (vertical) */
.section { margin-top:8px; }
.section:first-child { margin-top:0; }
.ttl { font-weight:600; margin-bottom:6px; }
.row { display:flex; flex-direction:column; gap:6px; }

/* Étiquettes avec puce couleur + case à cocher */
.label-chip { display:flex; align-items:center; gap:8px; }
.label-chip input[type="checkbox"] { vertical-align:-1px; }

/* Petites pastilles de légende */
.swatch {
  display:inline-block; width:12px; height:12px; border-radius:50%;
  box-shadow:0 0 0 1px rgba(0,0,0,.12) inset;
}

/* Couleurs des puces pour PROVENANCES (dans la légende) */
.swatch.prov-oui { background:#059669; }
.swatch.prov-non { background:#94a3b8; }
.swatch.prov-incertain { background:#f59e0b; }

/* =========================
   (Optionnel) style popups Leaflet un peu plus lisibles
   ========================= */
.leaflet-popup-content {
  font-family: system-ui, Segoe UI, Roboto, Arial, sans-serif;
  color:#111827; font-size:13px; line-height:1.4;
}
.leaflet-popup-content strong { color:#0f172a; }
.leaflet-popup-content em { color:#334155; }
